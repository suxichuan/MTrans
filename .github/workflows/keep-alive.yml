# 工作流名称
name: keep-alive

# 触发条件：定时 + 手动触发（方便调试）
on:
  # 定时触发（UTC 时区，对应北京 9 点/21 点）
  schedule:
    - cron: '*/5 * * * *'
  # 手动触发（在 GitHub 页面点击「Run workflow」即可执行）
  workflow_dispatch:

# 执行的任务
jobs:
  translate-job:
    # 运行环境：选择最新版 Ubuntu（GitHub 托管的虚拟机）
    runs-on: ubuntu-latest
    # 任务步骤
    steps:
      # 步骤1：拉取代码（执行 curl 无需代码，但这是默认步骤，建议保留）
      - name: 拉取仓库代码
        uses: actions/checkout@v4

      # 步骤2：执行翻译接口调用
      - name: 调用翻译API
        run: |
          # 调用翻译接口
          curl -X POST 'https://suxichuan-mtranserver.hf.space/translate' \
            -H 'accept: application/json' \
            -H 'Content-Type: application/json' \
            -d '{"from": "en","to": "zh-Hans","text": "hello","html": true}'
